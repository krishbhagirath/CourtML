name: Test Basketball Reference Scraper

on:
  workflow_dispatch:  # Manual trigger for testing

jobs:
  test-scraper:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      
      - name: Install dependencies
        run: |
          pip install basketball_reference_web_scraper
      
      - name: Run scraper test script
        run: |
          python scripts/test_bball_ref_scraper.py
      
      - name: Summary
        if: always()
        run: |
          echo "============================================"
          echo "Test completed! Check logs above for results"
          echo "============================================"
          echo ""
          echo "Key things to verify:"
          echo "✓ Scraper connection successful"
          echo "✓ Games/stats fetched without timeout"
          echo "✓ No IP blocking from cloud environment"
          echo "✓ All required stats available"
