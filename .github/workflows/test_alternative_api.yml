name: Test Alternative API (balldontlie.io)

on:
  workflow_dispatch:  # Manual trigger for testing

jobs:
  test-api:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      
      - name: Install dependencies
        run: |
          pip install requests
      
      - name: Run API test script
        run: |
          python scripts/test_alternative_api.py
      
      - name: Summary
        if: always()
        run: |
          echo "============================================"
          echo "Test completed! Check logs above for results"
          echo "============================================"
          echo ""
          echo "Key things to verify:"
          echo "✓ API connection successful"
          echo "✓ Games fetched without timeout"
          echo "✓ Stats retrieved successfully"
          echo "✓ No IP blocking from cloud environment"
